#!/bin/sh
if [ $# == 2 ]; then
  option="$1"
  file="$2"
elif [ $# == 1 ]; then
  option="--all"
  file="$1"
else
  echo 'ERROR: invalid argument format'
  exit 1
fi

case $option in
  --extension|-e)
    echo ${file##*\.}
    ;;
  --base-name|-N)
    echo ${file##*/}
    ;;
  --directory|-D)
    echo ${file%/*}
    ;;
  --base-directory|-d)
    dir=${file%/*}
    echo ${dir##*/}
    ;;
  --filename|-n)
    basename=${file##*/}
    echo ${basename%.*}
    ;;
  --all|-a)
    extension=${file##*\.}
    basename=${file##*/}
    filename=${basename%.*}
    dir=${file%/*}
    basedir=${dir##*/}
    echo path: $file
    echo directory: $dir
    echo base name: $basename 
    echo file name: $filename
    echo extension: $extension
    echo base directory: $basedir
    ;;
  *)
    echo 'ERROR: invalid option'
    exit 1
esac

exit 0
