" toggle statusbar
let s:hidden_all=1
function! ToggleStatusBar()
	if s:hidden_all == 0
		let s:hidden_all=1
		let g:airline_disable_statusline=1
		set laststatus=0
	else
		let s:hidden_all=0
		let g:airline_disable_statusline=0
		set laststatus=2
	endif
endfunction
command ToggleStatusBar execute ":call ToggleStatusBar()"
nnoremap <Bslash>B :ToggleStatusBar<CR>

" man pager mode
function! ManPagerMode()
  set scrolloff=0
  set laststatus=0
  set nonumber norelativenumber
  let g:airline_disable_statusline=1
  :CocDisable
endfunction
command ManPager execute ":call ManPagerMode()"

" is cursor within comment
function! IsCursorWithinComment()
    let hg = join(map(synstack(line('.'), col('.')), 'synIDattr(v:val, "name")'))
    return hg =~? 'comment' ? 1 : 0
endfunction

function! CustomFormatting()
  :%s/\([^ ]\) \?{$/\1\r{/
  :gg=G
  %s/  / /ge<CR>:%s/ \+$//
  :g/^$\n^$/
endfunction
