#!/bin/sh
if [[ -n $@ ]]; then
	files=$@
else
	files=/dev/stdin
fi
cat $files | 
sed 's/[ \_]/-/g' | # replace space or underline with hyphen
sed 's/\([a-z]\)\([A-Z]\)/\1-\2/g' | # split camel/pascal case words
sed 's/[-]\+/-/g' | # supress consecutive hyphens
sed 's/-\?\([\[(){}]\)-\?/\1/g' | # delete hyphens surrounding parenthesis/braces/brackets
sed 's/-\?\]-\?/]/g' | # delte hyphens surrounding the character ']'
sed 's/^-//g' | # trim hyphen at the beginning of sentence
sed 's/-$//g' | # trim hyphen at the end of sentence
sed 's/.*/\L&/g' # convert everything to lower case
>&1 # redirect output to stdout
exit 0
